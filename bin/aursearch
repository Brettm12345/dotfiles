#!/bin/sh

esc=$'\033'
c_reset="${esc}[0m"
c_green="${esc}[32m"
c_blue="${esc}[34m"

yay -Ss $1 |
      gawk '{
        getline descr;
        sub(/ */,"", descr);
        repo = blue "[" gensub(/\/.*/, "", 1) "]" reset;
        name = green gensub(/.*\//, "", 1, $1) reset;
        info = gensub(/[^ ]* /, "", 1);
        print repo, name, info, descr;
}' blue="$c_blue" green="$c_green" reset="$c_reset"
